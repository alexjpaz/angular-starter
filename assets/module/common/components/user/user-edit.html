<div class="alert alert-error" ng-if='error' style="display:none;" id="message">Something went wrong, please check all info and try again</div>
<form id="add_user" class="form-horizontal" novalidate ng-submit='updateUser()'>
	<legend>{{ 'USERS_NAME' | trn }}</legend>
	<div class="control-group">
		<label for="firstName">{{'FIRST_NAME'|trn}}</label>
		<div class="controls">
		<input type="text" id="firstName" name="firstName" ng-model='u.firstName' class="input-xlarge" maxlength="30" placeholder="User's First Name" /> <span class="required-star">&lowast;</span>
		</div>
	</div>
	<div class="control-group">
		<label for="middleInit">{{'MIDDLE_INITIAL'|trn}}</label>
		<div class="controls">
			<input type="text" id="middleInit" name="middleInit" ng-model='u.middleInit' class="input-mini" maxlength="1" placeholder="S" />
		</div>
	</div>
	<div class="control-group">
		<label for="lastName">{{'LAST_NAME'|trn}}</label>
		<div class="controls">
			<input type="text" id="lastName" name="lastName" ng-model='u.lastName' class="input-xlarge" maxlength="30" placeholder="User's Last Name" /> <span class="required-star">&lowast;</span>
		</div>
	</div>
	<div class="control-group">
		<label for="nameSuffix">{{'NAME_SUFFIX'|trn}}</label>
		<div class="controls">
			<input type="text" id="nameSuffix" name="nameSuffix" ng-model='u.nameSuffix' class="input-mini" maxlength="5" placeholder="Jr. Sr. etc." />
		</div>
	</div>
	<legend>{{'USERS_ADDRESS'|trn}}</legend>
	<div class="control-group">
		<label for="address">{{'ADDRESS'|trn}}</label>
		<div class="controls">
			<input type="text" id="address" name="address" ng-model='u.address' class="input-xlarge" maxlength="70" placeholder="User's Street Address" />
		</div>
	</div>
	<div class="control-group">
		<label for="address2">{{'ADDRESS_2'|trn}}</label>
		<div class="controls">
			<input type="text" id="address2" name="address2" ng-model='u.address2' class="input-xlarge" maxlength="70" placeholder="P.O. Box, Apt. Number, etc." />
		</div>
	</div>
	<div class="control-group">
		<label for="city">{{'CITY'|trn}}</label>
		<div class="controls">
			<input type="text" id="city" name="city" ng-model='u.city' class="input-xlarge" maxlength="70" placeholder="User's City" />
		</div>
	</div>
	<div class="control-group">
		<label for="stateProv">{{'STATE_PROV'|trn}}</label>
		<div class="controls">
			<!-- these states should be moved into an enum -->
			<select id="stateProv" name="stateProv" class="input-large" ng-model='u.stateProv'>
				<option value="">Select {{'STATE_PROV'|trn}}</option><!-- this could be a candiate for angular-gettext "tr" -->
				<option value="AL">Alabama</option>
				<option value="AK">Alaska</option>
				<option value="AB">Alberta</option>
				<option value="AZ">Arizona</option>
				<option value="AR">Arkansas</option>
				<option value="BC">British Columbia</option>
				<option value="CA">California</option>
				<option value="CO">Colorado</option>
				<option value="CT">Connecticut</option>
				<option value="DE">Delaware</option>
				<option value="DC">District of Columbia</option>
				<option value="FL">Florida</option>
				<option value="GA">Georgia</option>
				<option value="HI">Hawaii</option>
				<option value="ID">Idaho</option>
				<option value="IL">Illinois</option>
				<option value="IN">Indiana</option>
				<option value="IA">Iowa</option>
				<option value="KS">Kansas</option>
				<option value="KY">Kentucky</option>
				<option value="LA">Louisiana</option>
				<option value="ME">Maine</option>
				<option value="MB">Manitoba</option>
				<option value="MD">Maryland</option>
				<option value="MA">Massachusetts</option>
				<option value="MI">Michigan</option>
				<option value="MN">Minnesota</option>
				<option value="MS">Mississippi</option>
				<option value="MO">Missouri</option>
				<option value="MT">Montana</option>
				<option value="NE">Nebraska</option>
				<option value="NV">Nevada</option>
				<option value="NB">New Brunswick</option>
				<option value="NH">New Hampshire</option>
				<option value="NJ">New Jersey</option>
				<option value="NM">New Mexico</option>
				<option value="NY">New York</option>
				<option value="NL">Newfoundland and Labrador</option>
				<option value="NC">North Carolina</option>
				<option value="ND">North Dakota</option>
				<option value="NT">Northwest Territories</option>
				<option value="NS">Nova Scotia</option>
				<option value="NU">Nunavut</option>
				<option value="OH">Ohio</option>
				<option value="OK">Oklahoma</option>
				<option value="ON">Ontario</option>
				<option value="OR">Oregon</option>
				<option value="PA">Pennsylvania</option>
				<option value="PE">Prince Edward Island</option>
				<option value="PR">Puerto Rico</option>
				<option value="QC">Quebec</option>
				<option value="RI">Rhode Island</option>
				<option value="SK">Saskatchewan</option>
				<option value="SC">South Carolina</option>
				<option value="SD">South Dakota</option>
				<option value="TN">Tennessee</option>
				<option value="TX">Texas</option>
				<option value="UT">Utah</option>
				<option value="VT">Vermont</option>
				<option value="VA">Virginia</option>
				<option value="WA">Washington</option>
				<option value="WV">West Virginia</option>
				<option value="WI">Wisconsin</option>
				<option value="WY">Wyoming</option>
				<option value="YT">Yukon</option>
			</select>
		</div>
	</div>
	<div class="control-group">
		<label for="postalCode">{{'POSTAL_CODE'|trn}}</label>
		<div class="controls">
			<input type="text" id="postalCode" name="postalCode" ng-model='u.postalCode' class="input-medium" maxlength="10" placeholder="User's Postal Code" />
		</div>
	</div>
	<div class="control-group">
		<label for="timeZone">{{'TIME_ZONE'|trn}}</label>
		<div class="controls">
			<select id="timeZone" name="timeZone" class="input-xlarge">
				<option value="">Select {{'TIME_ZONE'|trn}}</option>
			</select> <span class="required-star">&lowast;</span>
		</div>
	</div>
	<div class="control-group">
		<label for="countryCode">{{'COUNTRY'|trn}}</label>
		<div class="controls">
			<select id="countryCd" name="countryCd" class="input-xlarge" style="text-transform:capitalize;">
				<option value="">Select {{'COUNTRY'|trn}}</option>
			</select> <span class="required-star">&lowast;</span>
		</div>
	</div>
	<legend>{{'USERS_CONTACT_INFO'|trn}}</legend>
	<div class="control-group">
		<label for="primaryEmail">{{'PRIMARY_EMAIL'|trn}}</label>
		<div class="controls">
			<input type="email" id="primaryEmail" name="primaryEmail" ng-model='u.__tempEmail'  class="input-xlarge" maxlength="100" placeholder="User's Primary Email" /> <span class="required-star">&lowast;</span>
		</div>
	</div>
	<div class="control-group">
		<label for="alternateEmail">{{'ALTERNATE_EMAIL'|trn}}</label>
		<div class="controls">
			<input type="email" id="alternateEmail" name="alternateEmail" ng-model='u.__tempAltEmail' class="input-xlarge" maxlength="100" placeholder="User's Alternate Email" />
		</div>
	</div>
	<div class="control-group">
		<label for="phone1">{{'HOME_PHONE'|trn}}</label>
		<div class="controls">
			<input type="tel" id="phone1" name="phone1" ng-model='u.phoneNo' class="input-large bfh-phone" maxlength="15" placeholder="User's Home Phone" data-format="(ddd) ddd-dddd" />
			<input name="phone1Ext" type="hidden" class="input-mini" id="phone1Ext" value="" maxlength="5" />
		</div>
	</div>
	<div class="control-group">
		<label for="phone2">{{'WORK_PHONE'|trn}}</label>
		<div class="controls">
			<input type="tel" id="phone2" name="phone2" ng-model='u.phoneNo2' class="input-large bfh-phone" maxlength="15" placeholder="User's Work Phone" data-format="(ddd) ddd-dddd" />
			<label class="label-inline" for="phone2Ext">{{'EXT'|trn}}.</label> 
			<input name="phone2Ext" type="text" class="input-mini" id="phone2Ext" ng-model='u.phoneExt2' maxlength="5" />
		</div>
	</div>
	<div class="control-group">
		<label for="fax">{{'FAX'|trn}}</label>
		<div class="controls">
			<input type="tel" id="fax" name="fax" ng-model='u.fax' class="input-large bfh-phone" maxlength="15" placeholder="User's Fax #" data-format="(ddd) ddd-dddd" />
			<input name="faxExt" type="hidden" class="input-mini" id="faxExt" value='' maxlength="5" />
		</div>
	</div>
	<legend>{{'USERS_MOBILE_ALERT_CONTACT_INFO'|trn}}</legend>
	<div class="control-group">
		<label for="cell">{{'MOBILE_CELL_PHONE'|trn}}</label>
		<div class="controls">
			<input type="tel" id="cell" name="cell" ng-model='u.cell' class="input-xlarge bfh-phone" maxlength="15" placeholder="User's Mobile Number" data-format="(ddd) ddd-dddd" />
		</div>
	</div>
	<div class="control-group">
		<label for="mobProviderId">{{'MOBILE_PROVIDER'|trn}}</label>
		<div class="controls">
			<select id="mobProviderId" name="mobProviderId" ng-mode='u.__mobileProviderId' class="input-xlarge">
				<option value="">Select {{'MOBILE_PROVIDER'|trn}}</option>
				<option value="0">Other</option>
			</select>
		</div>
	</div>
	<div class="control-group" ng-if='u.jsonEmailAddresses.emailTypeCode === "T"' id="gateway">
		<label for="smsGateway"><a rel="tooltip" data-original-title="a telecommunications network facility for sending or receiving Short Message Service (SMS) transmissions to or from a telecommunications network that supports SMS">SMS Gateway</a></label>
		<div class="controls">
			<input type="text" id="smsGateway" ng-model='u.smsGateway' class="input-xlarge" maxlength="15" placeholder="@SMS-gateway" /> 
			<span class="help-inline">Format: @smsgateway.com <a target="_blank" href="http://en.wikipedia.org/wiki/List_of_SMS_gateways">See here for a list of SMS gateways</a></span>
		</div>
	</div>

	<div class="form-actions">
		<button class="btn btn-primary" type="submit" id="add_button" ng-if='isNewUser'>{{'ADD_USER'|trn}}</button>
		<button class="btn btn-primary" type="submit" id="edit_button" ng-if='!isNewUser' >{{'EDIT_USER'|trn}}</button>
		<a class="btn" href="#/user/{{u.personId}}">{{'CANCEL'|trn}}</a>

		<br />
		<pre>{{ responseData | json }}</pre>
	</div>
</form>
<!-- end form -->
